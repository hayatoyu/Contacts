using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.IO;
using System.Security.Cryptography;


namespace Contacts
{
    class AESEncoder
    {
        public static string Encrypted(string origin)
        {
            string result = string.Empty;
            if(!string.IsNullOrEmpty(origin))
            {
                byte[] encrypted;
                using (Aes myAes = Aes.Create())
                {
                    ICryptoTransform encryptor = myAes.CreateEncryptor(myAes.Key, myAes.IV);
                    using (MemoryStream ms = new MemoryStream())
                    {
                        using (CryptoStream cs = new CryptoStream(ms, encryptor, CryptoStreamMode.Write))
                        {
                            using (StreamWriter sw = new StreamWriter(cs))
                            {
                                sw.Write(origin);
                            }
                            encrypted = ms.ToArray();
                        }
                    }
                }
                result = Encoding.GetEncoding("utf-8").GetString(encrypted);
            }
            return result;
        }
    }
}
